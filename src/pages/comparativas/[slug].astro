---
import BaseLayout from "../../layouts/BaseLayout.astro";
import { COMPARATIVAS } from "../../data/comparativas";

export async function getStaticPaths() {
  return COMPARATIVAS.map((c) => ({ params: { slug: c.slug } }));
}

const { slug } = Astro.params;
const c = COMPARATIVAS.find((x) => x.slug === slug);
const target = c ? `/blog/${c.slug}/` : "/comparativas/";
const title = c ? `${c.title} — Nova Raiz` : "Comparativas — Nova Raiz";
const description = c
  ? `Comparativa completa em formato de artigo: ${c.title}.`
  : "Comparativas completas em formato de artigos.";
---
<BaseLayout title={title} description={description}>
  <section class="py-10 md:py-14">
    <div class="mx-auto max-w-3xl">
      <h1 class="text-2xl md:text-3xl" style="font-family:'Playfair Display', serif;">Abrindo comparativa…</h1>
      <p class="mt-4 text-base" style="color: var(--muted);">
        Estamos te levando para o artigo completo.
      </p>
      <p class="mt-4">
        <a class="underline" href={target}>Se não redirecionar automaticamente, clique aqui →</a>
      </p>
      <meta http-equiv="refresh" content={`0; url=${target}`} />
    </div>
  </section>
</BaseLayout>
