---
import BaseLayout from "../../layouts/BaseLayout.astro";
import { COMPARATIVAS } from "../../data/comparativas";
const title = "Comparativas de cidades — Nova Raiz";
const description = "Comparativos objetivos e profundos para decidir onde morar no interior: custo de vida, bairros, internet, trabalho, segurança, saúde e educação.";
const groups = COMPARATIVAS.reduce((acc, item) => {
  const key = item.a.uf === item.b.uf ? item.a.uf : `${item.a.uf}×${item.b.uf}`;
  acc[key] ||= [];
  acc[key].push(item);
  return acc;
}, /** @type {Record<string, typeof COMPARATIVAS>} */ ({}));
const orderedKeys = Object.keys(groups).sort((a,b)=>a.localeCompare(b,'pt-BR'));
---

<BaseLayout title={title} description={description}>
  <section class="py-10 md:py-14">
    <div class="mx-auto max-w-5xl">
      <h1 class="text-4xl md:text-5xl" style="font-family:'Playfair Display', serif;">Comparativas de cidades</h1>
      <p class="mt-4 text-lg" style="color: var(--muted);">
        Escolha com critério: custo de vida, bairros, internet, trabalho, segurança, saúde e educação — com checklist de decisão.
      </p>

      <div class="mt-8 grid gap-6 md:grid-cols-2">
        <div class="rounded-3xl border p-6" style="border-color: var(--border); background: var(--card);">
          <div class="text-sm font-semibold" style="color: var(--muted);">Como usar este cluster</div>
          <ul class="mt-4 list-disc pl-5 space-y-2 text-sm" style="color: var(--muted);">
            <li>Abra 2–3 comparativas do seu estado (ou região) e repare nos padrões de bairro.</li>
            <li>Depois vá para o checklist e faça sua visita-teste com critérios.</li>
            <li>Finalize lendo o Guia Mestre para ampliar sua visão do Brasil.</li>
          </ul>
          <div class="mt-5 text-sm">
            <a class="underline" href="/checklist/">Ir para o Checklist</a>
            <span class="mx-2" style="color: var(--muted);">•</span>
            <a class="underline" href="/blog/melhores-cidades-interior-brasil-2026/">Ir para o Guia Mestre</a>
          </div>
        </div>

        <div class="rounded-3xl border p-6" style="border-color: var(--border); background: var(--surface);">
          <div class="text-sm font-semibold">O que você vai ganhar</div>
          <ul class="mt-4 space-y-2 text-sm" style="color: var(--muted);">
            <li>Decisão mais rápida (com menos arrependimento).</li>
            <li>Critérios objetivos para escolher bairro, não só cidade.</li>
            <li>Links para guias e checklists internos (efeito “cadeia”).</li>
          </ul>
          <div class="mt-5 text-xs" style="color: var(--muted);">
            Nota: as comparativas usam faixas e lógica de decisão; quando houver, exibimos fontes oficiais (IBGE, INEP, DATASUS, SSP).
          </div>
        </div>
      </div>

      <div class="mt-10 space-y-10">
        {orderedKeys.map((key) => (
          <div>
            <h2 class="text-xl font-semibold">{key}</h2>
            <div class="mt-4 grid gap-3 md:grid-cols-2">
              {groups[key].map((c) => (
                <a class="rounded-2xl border p-4 hover:opacity-90 transition" style="border-color: var(--border); background: var(--card);"
                   href={`/comparativas/${c.slug}/`}>
                  <div class="text-sm font-semibold">{c.a.name} vs {c.b.name}</div>
                  <div class="mt-1 text-xs" style="color: var(--muted);">{c.description}</div>
                </a>
              ))}
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>
</BaseLayout>
